# アクター定義書

## 1. 文書概要

### 1.1 目的
本文書は、Health Data Bank（HDB）システムの利用者および関連するシステムについて、その役割や属性等を明確にし、ユースケースの抜け漏れがないかを確認することを目的とする。

### 1.2 役割
- アクターの責務毎に区別することで、要求が妥当かつ完全か検証する
- 人間の利用者についてはその特性から使いやすさに関する要求を分析し、UI規約の基礎情報にする

### 1.3 HDBシステム構成概要
HDBシステムは以下の3つのコンポーネントで構成される：
- **HDBアプリ（iOS/Android）**: 個人利用者向けモバイルアプリケーション
- **HDBシステム（Web）**: 企業・健保スタッフ向け既存システム
- **バイタルAWS**: HDBアプリ専用バックエンドシステム

### 1.4 文書の構成
- アクター一覧表
- 各アクターの詳細定義

## 2. アクター一覧表

### 2.1 利用者

| 項番 | アクター名 | 権限 | 説明 | 人数 | 利用者層 | 利用形態 | 利用状況 | 場所・環境 | 頻度・契機 | 機器 | 業務知識 | 操作スキル | 身体 | 認知 |
|------|-----------|------|------|------|---------|---------|---------|-----------|----------|------|---------|----------|------|------|
| 1    | 顧客      | 契約に関連する業務を実施できる。 | HDBシステムを通じて契約管理、利用状況確認、問い合わせを行う。 | 不特定多数 | 企業・健保組織の担当者、ある程度PCを扱える。 | Webブラウザを通じて操作を行う。 | 契約・予算検討時期 | Webが利用できる場所すべて | 数回／年、契約管理・利用状況確認を行いたいとき。 | PC | 契約管理、予算管理に関しては問題なく実施できる。 | Webブラウザの基本操作ができる。 | - | 日本語が理解できる。 |
| 2    | 受付係    | 問い合わせ対応に関連する業務をすべて実施できる。 | 顧客から電話、メールで問い合わせを受け付ける。HDBシステムを通じて顧客サポートを行う。 | 各部署3名、計15名 | 20代～50代の従業員、ある程度PCを扱える。 | 電話、メール対応を行いながらWebブラウザを通じて操作を行う。 | カスタマーサポート業務 | オフィス・座り作業、一人一台のPC | １～２回／日、顧客からの問い合わせを受けたとき。 | PC、電話 | 顧客サポートの業務に関しては問題なく実施できる。 | Webブラウザの基本操作ができる。 | - | 日本語が理解できる。 |
| 3    | ツアー情報管理係 | システム機能紹介に関連する業務をすべて実施できる。 | アプリケーションを用いてシステム機能の紹介、導入支援、教育を行う。 | 2名 | 20代～50代の従業員、ある程度PCを扱える。 | アプリケーション・プレゼンテーション機器を通じて操作を行う。 | 顧客訪問・研修実施 | 社内・顧客先、プレゼンテーション環境 | 数回／週、機能紹介・導入支援を行うとき。 | PC、プレゼン機器 | システム機能・導入支援の業務に関しては問題なく実施できる。 | Webブラウザ・プレゼンの基本操作ができる。 | - | 日本語が理解できる。 |
| 4    | ユーザー  | バイタルデータ管理に関連する業務を実施できる。 | HDBアプリを用いてバイタルデータの記録、確認、外部連携設定を行う。 | 不特定多数 | 20代～70代の企業従業員、スマートフォンを扱える。 | モバイルアプリを通じて操作を行う。 | 個人の健康管理 | スマートフォンが利用できる場所すべて | 毎日／朝夕、バイタルデータ記録・確認を行いたいとき。 | スマートフォン | 個人の健康管理に関しては問題なく実施できる。 | スマートフォンアプリの基本操作ができる。 | - | 日本語が理解できる。 |
| 5    | スタッフ  | 健康管理業務に関連する業務をすべて実施できる。 | HDBシステムを通じて健診管理、通知配信、データ分析を行う。 | 各企業・健保組織10名、計500名 | 20代～50代の健康管理担当者、ある程度PCを扱える。 | 健康管理業務を行いながらWebブラウザを通じて操作を行う。 | 健康管理業務・労務管理 | オフィス・座り作業、一人一台のPC | １～２回／日、健康管理業務を行うとき。 | PC | 健康管理・労務管理の業務に関しては問題なく実施できる。 | Webブラウザの基本操作ができる。 | - | 日本語が理解できる。 |
| 6    | 管理者    | システム運用・保守に関連する業務をすべて実施できる。 | HDBシステム・バイタルAWSの運用監視、ユーザー管理、セキュリティ管理を行う。 | 3名 | 20代～40代のシステム管理者、高度な技術知識を持つ。 | 管理用コンソール・サーバー端末を通じて操作を行う。 | システム運用・保守業務 | データセンター・在宅勤務、専用管理端末 | 24時間対応、システム監視・障害対応を行うとき。 | PC、サーバー端末 | システム運用・保守の業務に関しては問題なく実施できる。 | システム管理の高度な操作ができる。 | - | 日本語・英語が理解できる。 |

### 2.2 システム

| 項番 | アクター名 | 稼働拠点 | 開発区分（新規／既存／変更） | 接続イメージ（接続元-接続先） | プロトコル | 開発区分（新規／既存／変更） | 説明 |
|------|-----------|---------|---------------------------|-------------------------|-----------|---------------------------|------|
| 1    | Firebase Remote Config | Google Cloud Platform | 既存 | [HDBアプリ]-[Firebase Remote Config] | HTTPS | 既存 | HDBアプリの設定を動的に管理する。 |
| 2    | Firebase Cloud Messaging | Google Cloud Platform | 既存 | [バイタルAWS]-[FCM]-[HDBアプリ] | HTTPS | 既存 | プッシュ通知の配信を行う。 |
| 3    | HealthKit | iOS端末 | 既存 | [HDBアプリ]-[HealthKit] | iOS SDK | 既存 | iOSデバイスのヘルスデータを自動取得する。 |
| 4    | ヘルスコネクト | Android端末 | 既存 | [HDBアプリ]-[ヘルスコネクト] | Android SDK | 既存 | Androidデバイスのヘルスデータを自動取得する。 |
| 5    | バイタルAWS | AWS | 新規 | [HDBアプリ]-[バイタルAWS] | HTTPS/REST API | 新規 | HDBアプリ専用のバックエンドAPIを提供する。 |
| 6    | HDBシステム | オンプレミス | 既存 | [スタッフ用PC]-[HDBシステム] | HTTPS | 変更 | 企業・健保組織向けの健康管理システム。 |
| 7    | 認証基盤 | オンプレミス | 既存 | [HDBシステム]-[認証基盤] | SAML/OAuth | 既存 | Single Sign On（SSO）による統合認証を提供する。 |
| 8    | App Store | Apple | 既存 | [開発環境]-[App Store] | HTTPS | 既存 | iOSアプリの配信・バージョン管理を行う。 |
| 9    | Google Play | Google | 既存 | [開発環境]-[Google Play] | HTTPS | 既存 | Androidアプリの配信・バージョン管理を行う。 |

## 3. アクター詳細定義

### 3.1 顧客

#### 基本情報
- **アクター名**: 顧客
- **分類**: 人間アクター（エクスターナルアクター）
- **概要**: HDBシステムサービスを契約・利用する外部企業・健保組織の担当者

#### 責務・役割
- **契約管理**: HDBサービスの契約締結、契約更新、契約変更手続き
- **利用状況管理**: 自組織の従業員によるHDBシステム利用状況の確認
- **問い合わせ**: サービス内容、料金、機能に関する問い合わせ
- **要望伝達**: 新機能要望、改善要求、カスタマイズ依頼
- **決済管理**: サービス利用料金の支払い承認、予算管理

#### 利用環境・特性
- **利用デバイス**: PC（Webブラウザ経由でHDBシステム利用）
- **利用時間**: 業務時間内（主に契約・予算検討時期）
- **組織内役職**: 人事部長、健康管理責任者、IT部門責任者等
- **ITリテラシー**: 中級（業務システム利用経験）
- **権限レベル**: 自組織に関する契約情報のみアクセス可能
- **決裁権限**: 組織の予算執行権限、契約締結権限

#### ユーザビリティ要件
- **分かりやすい料金体系表示**: 利用人数、機能別の料金構造の明確化
- **契約状況の可視化**: 契約期間、利用状況、請求情報の一元表示
- **簡潔な問い合わせフォーム**: 要望分類、緊急度設定
- **レポート機能**: 自組織の利用統計、効果測定レポート

#### セキュリティ要件
- **組織別アクセス制御**: 自組織の契約情報のみ参照可能
- **契約情報保護**: 機密情報の適切な管理
- **監査証跡**: 契約変更、問い合わせ履歴の記録

### 3.2 受付係

基本情報
アクター名: 受付係
分類: 人間アクター（サポートアクター）
概要: 顧客からの問い合わせやサポート要求に対応する第一次窓口担当者

責務・役割
初期対応: 顧客からの電話、メール、チャット問い合わせの受付
情報整理: 問い合わせ内容の分類、緊急度判定、必要情報の聞き取り
FAQ対応: よくある質問への標準回答、基本的なトラブルシューティング
エスカレーション: 技術的問題や複雑な要求の専門部署への引き継ぎ
顧客情報管理: 問い合わせ履歴、対応状況の記録・更新
満足度確認: 対応完了後の顧客満足度確認、フィードバック収集

利用環境・特性
利用デバイス: PC、電話、ヘッドセット（カスタマーサポートシステム）
利用時間: 平日9:00-18:00（営業時間内対応）
ITリテラシー: 中級（サポートシステム、HDB基本機能の理解）
コミュニケーション能力: 高（顧客対応、説明能力）
HDB知識レベル: 基本〜中級（機能概要、一般的な利用方法）

ユーザビリティ要件
統合サポート画面: 顧客情報、問い合わせ履歴の一元表示
FAQデータベース: 検索可能な回答集、対応手順書
エスカレーション機能: ワンクリックでの専門部署への引き継ぎ
対応ステータス管理: 問い合わせの進捗状況追跡
顧客満足度測定: アンケート配信、結果集計機能

セキュリティ要件
顧客情報保護: 個人情報・企業機密情報の適切な取り扱い
アクセス制御: 担当顧客の情報のみアクセス可能
対応履歴記録: 全対応内容の詳細記録・監査証跡

### 3.3 ツアー情報管理係

基本情報
アクター名: ツアー情報管理係
分類: 人間アクター（スペシャリストアクター）
概要: HDBシステムの機能紹介、導入支援、教育を専門とする担当者

責務・役割
機能紹介: HDBシステムの機能デモンストレーション、プレゼンテーション
導入支援: 新規顧客の初期設定サポート、利用開始支援
教育・研修: 顧客スタッフ向けの操作研修、利用方法指導
資料作成: 機能説明資料、操作マニュアル、FAQ作成・更新
要件整理: 顧客の業務要件ヒアリング、最適な利用方法の提案
フィードバック収集: 顧客からの機能要望、改善提案の整理

利用環境・特性
利用デバイス: PC、プレゼンテーション機器、デモ用タブレット
利用時間: 平日9:00-18:00（顧客訪問、研修実施時は柔軟対応）
移動環境: 顧客先訪問、外部会議室での作業
HDB知識レベル: 上級（全機能の詳細理解、カスタマイズ対応）
プレゼン能力: 高（技術説明、デモンストレーション）
コンサルティング能力: 顧客業務理解、最適解提案

ユーザビリティ要件
デモ環境管理: 顧客別デモデータ準備、シナリオ管理
資料管理システム: バージョン管理、顧客別カスタマイズ資料
スケジュール管理: 研修・デモ予定の調整、リソース管理
顧客情報連携: CRM連携、商談進捗状況の共有
効果測定: 導入後の利用状況追跡、成功事例作成

セキュリティ要件
デモデータ管理: テスト用データの適切な管理、本番データとの分離
顧客機密保護: 業務要件、組織情報の機密保持
アクセス制御: デモ環境への適切な権限設定

### 3.4 ユーザー

基本情報
アクター名: ユーザー
分類: 人間アクター（プライマリアクター）
概要: 企業・健保組織に所属する従業員で、HDBアプリを利用して個人の健康データを管理する

責務・役割
バイタルデータ管理: 歩数、体重、血圧、心拍数、体温、体脂肪率の記録・確認
外部連携管理: HealthKit（iOS）、ヘルスコネクト（Android）との連携設定
プロフィール管理: ニックネーム、アイコン設定
通知設定: 健診通知、パルスサーベイ等の受信設定
データ管理: DBバックアップ・リストア、機種変更時のデータ移行
転籍対応: 企業・健保間異動時のデータ移行処理

利用環境・特性
利用デバイス: iOS/Androidスマートフォン（React Native製アプリ）
利用時間: 24時間（主に朝夕の健康データ記録、通勤時間の確認）
年齢層: 20-70代の企業従業員
ITリテラシー: 初級～中級（年齢・職種により差異）
健康意識: 高（企業の健康管理プログラム参加者）
プライバシー意識: 高（個人の健康データを扱うため）

ユーザビリティ要件
シンプルな操作: 3タップ以内でのデータ入力
視認性: 大きな文字・ボタン、高コントラスト
直感的なナビゲーション: ハンバーガーメニュー、ナビゲーションバー
データ可視化: グラフ・チャートでの健康データ表示
多世代対応: 高齢者から若年層まで使いやすいUI
レスポンシブデザイン: 様々な画面サイズへの対応

セキュリティ要件
認証: 生体認証、パスワード認証
データ保護: ローカルデータの暗号化、Keychain/Keystore利用
通信暗号化: HTTPS通信、API認証トークン管理
プライバシー保護: 個人特定情報の適切な管理

### 3.5 スタッフ

基本情報
アクター名: スタッフ
分類: 人間アクター（セカンダリアクター）
概要: 企業・健保組織において従業員の健康管理業務を担当する職員

責務・役割
健診管理: 健診結果の登録・更新、健診未受診者への通知配信
アンケート・調査: ストレスチェック、パルスサーベイの実施・結果分析
通知管理: 従業員への各種お知らせ・通知の配信設定
データ分析: 組織全体の健康データ分析、レポート作成
イベント管理: 健康促進イベントの企画・実施・ポイント管理
利用者サポート: 従業員からの問い合わせ対応、利用方法指導
システム設定: 組織固有の設定管理、利用者権限管理

利用環境・特性
利用デバイス: PC（Webブラウザ経由でHDBシステム利用）
利用時間: 業務時間内（平日9:00-18:00、定時内）
ITリテラシー: 中級～上級（業務システム操作に慣れている）
業務知識: 健康管理、労務管理、産業保健の専門知識
権限レベル: 所属組織内従業員データへの限定的アクセス権限
役職: 人事部、健康管理室、保健師、産業医等

ユーザビリティ要件
業務効率性: 大量データの一括処理、CSV一括アップロード
分析機能: 集計レポート、グラフ表示、データエクスポート
検索・フィルタ: 従業員検索、条件絞り込み、ソート機能
作業継続性: 複数タブでの同時作業、下書き保存機能
監査対応: 操作履歴確認、変更ログ表示

セキュリティ要件
アクセス制御: 所属組織データのみアクセス可能
役割ベース権限: 健診閲覧権限、通知配信権限等の細分化
操作ログ: 全操作の記録・監査証跡
データ保護: 個人情報の適切な取り扱い、画面ロック機能

### 3.6 管理者

基本情報
アクター名: 管理者
分類: 人間アクター（セカンダリアクター）
概要: HDBシステム全体（HDBシステム、バイタルAWS）の技術的運用・保守を担当するシステム管理者

責務・役割
システム運用: HDBシステム、バイタルAWSの稼働監視・障害対応
ユーザー管理: 企業・健保スタッフのアカウント管理、権限設定
セキュリティ管理: セキュリティポリシー設定、不正アクセス監視
データ管理: DBバックアップ・復旧、データ整合性チェック
システム保守: アプリ・サーバーのアップデート、パッチ適用
Firebase管理: Remote Config設定、FCM通知設定管理
監査・分析: システムログ分析、セキュリティ監査、性能監視

利用環境・特性
利用デバイス: PC（管理用Webコンソール）、サーバー端末
利用時間: 24時間対応（平日9:00-翌朝8:55分稼働、夜間・休日オンコール）
ITリテラシー: 上級（AWS、React Native、システム管理の専門知識）
権限レベル: システム全体への最高権限
責任範囲: システム全体の可用性・セキュリティ・性能
組織: 運用チーム、インフラチーム、セキュリティチーム

ユーザビリティ要件
統合管理画面: HDBシステム・バイタルAWSの一元管理
リアルタイム監視: システム状態のダッシュボード表示
アラート機能: 障害・異常の即座の通知
自動化ツール: 定期メンテナンス、バックアップの自動実行
詳細ログ: システム・セキュリティ・操作ログの統合表示

セキュリティ要件
多要素認証: 複数回・異なる方式による認証
特権アクセス管理: 管理者権限の分離・最小権限原則
完全監査ログ: 全管理操作の記録・証跡管理
緊急時手順: インシデント対応、災害復旧計画
内部統制対応: 企業の既存規定に従った統制対応

## 4. アクター間の関係

### 4.1 顧客 ⇔ 受付係
問い合わせ: 顧客から受付係への契約・機能・利用方法に関する問い合わせ
初期サポート: 受付係による基本的な回答・トラブルシューティング支援
エスカレーション連携: 受付係から専門部署への問い合わせ引き継ぎ
満足度フィードバック: 顧客からの対応評価・改善要望の収集

### 4.2 顧客 ⇔ ツアー情報管理係
デモ・説明: ツアー情報管理係による機能紹介・デモンストレーション
導入支援: 新規契約顧客の初期設定・利用開始サポート
教育・研修: 顧客スタッフ向けの操作研修・活用方法指導
要件ヒアリング: 顧客業務要件の確認・最適な利用方法の提案

### 4.3 受付係 ⇔ ツアー情報管理係
問い合わせ引き継ぎ: 技術的・専門的な問い合わせのエスカレーション
情報共有: 顧客要望・問題点の情報共有・対応方針協議
資料連携: FAQ・対応マニュアルの更新・改善提案

### 4.4 ユーザー ⇔ スタッフ
通知受信: スタッフからユーザーへの健診通知、パルスサーベイ依頼等の配信
データ提供: ユーザーのバイタルデータをスタッフが匿名化して分析利用
サポート: ユーザーからスタッフへの問い合わせ、利用方法相談
健診連携: 健診結果の共有、未受診者への督促

### 4.5 スタッフ ⇔ 管理者
システム利用: スタッフはHDBシステムを利用、管理者が運用・保守
権限管理: 管理者がスタッフのアクセス権限・役割を設定
障害対応: スタッフからの障害報告、管理者による技術対応
機能要求: スタッフからの新機能・改善要求の伝達

### 4.6 ユーザー ⇔ 管理者
間接的関係: 直接的な接点は少ない
技術サポート: HDBアプリの技術的問題時の最終サポート
データ管理: ユーザーのデータバックアップ・復旧時の技術支援
転籍処理: 企業間異動時のデータ移行技術対応

## 5. 外部システム・アクター

### 5.1 プラットフォーム連携システム
HealthKit（iOS）: iOSデバイスのヘルスデータ自動取得
ヘルスコネクト（Android）: Androidデバイスのヘルスデータ自動取得
Firebase Remote Config: アプリ設定の動的管理
Firebase Cloud Messaging（FCM）: プッシュ通知配信基盤

### 5.2 クラウドサービス
iCloud（iOS）: 同一OS内でのデータバックアップ
Google Drive（Android）: 同一OS内でのデータバックアップ
App Store / Google Play: アプリ配信・バージョン管理

### 5.3 バックエンドシステム
HDBシステム（Web）: 既存の企業・健保向けシステム
バイタルAWS: HDBアプリ専用のバックエンドAPI
認証基盤: Single Sign On（SSO）による統合認証

## 6. 利用シナリオ例

### 6.1 ユーザーの典型的利用パターン
1. 朝の健康データ確認（7:00-8:00）
   HDBアプリを起動し、昨日の歩数データを確認
   体重・血圧を測定し、アプリに入力
   
2. 通勤時間の利用（8:00-9:00、18:00-19:00）
   通知確認（健診案内、パルスサーベイ依頼等）
   週間・月間の健康データ推移をグラフで確認

3. 転籍時の特別利用
   転籍データ移行画面で前職のHDBデータを新しい企業に移行

### 6.2 スタッフの業務パターン
1. 月初業務（1-3日）
   前月の健診受診状況確認、未受診者リスト作成
   健康促進イベントの企画・参加者募集通知配信

2. 定期業務（週次）
   ストレスチェック・パルスサーベイの実施状況確認
   従業員からの問い合わせ対応、利用方法指導

3. 四半期業務
   組織全体の健康データ分析、経営層向けレポート作成

### 6.3 管理者の運用パターン
1. 日常監視（24時間）
   HDBシステム・バイタルAWSの稼働状況監視
   異常アラート対応、障害時の緊急対処

2. 定期メンテナンス（月次）
   システムアップデート、セキュリティパッチ適用
   Firebase Remote Config設定更新、アプリ設定調整

## 7. まとめ

本アクター定義書により、HDBシステムの主要なアクターの役割と特性が明確化された。これにより以下の効果が期待される：

1. 要件の網羅性確保: 各アクターの責務を明確にすることで、機能要件の抜け漏れを防止
2. UI/UX設計の指針: 各アクターの特性に応じた使いやすいインターフェース設計
   ユーザー：直感的なモバイルUI
   スタッフ：効率的な業務用WebUI  
   管理者：詳細な管理用コンソール
3. セキュリティ設計の基盤: アクター毎の権限・アクセス制御要件の明確化
4. テスト設計の基準: アクター毎のテストシナリオ作成の指針

重要なポイント：
ユーザー、スタッフ、管理者はそれぞれ異なるシステム（HDBアプリ、HDBシステム、管理コンソール）を利用
企業・健保組織を中心とした健康管理エコシステムの構築
転籍時のデータ移行など、企業特有の要件への対応

今後のシステム開発において、本定義書を参照し、各アクターのニーズに適合したシステム設計を行うこと。

---

作成日: 2025年8月19日  
版数: v1.0  
作成者: システム設計チーム  
承認者: プロジェクトマネージャー