# ログ管理対象一覧

## アプリケーション関連ログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| エラーログ | アプリケーションエラーログ | error_logs (AsyncStorage) | デバイス内AsyncStorage | なし（手動管理） | 最新50件のみ保持 | なし（ローカル） | 10MB | ErrorBoundaryで捕捉したエラー |
| アプリログ | console.log出力 | React Native Metro Log | 開発環境コンソール | なし | 開発時のみ | なし | 100MB | 開発・デバッグ用 |
| API通信ログ | API通信ログ | Network Inspector Log | 開発環境 | なし | 開発時のみ | なし | 50MB | API リクエスト・レスポンス |
| データベースログ | SQLiteデバッグログ | Database Debug Log | 開発環境 | なし | 開発時のみ | なし | 20MB | SQLite操作ログ |

## システムログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| OSシステムログ | iOS システムログ | system.log | iOS デバイス | OS管理 | OS管理 | iTunes/Finder経由 | 100MB | iOSシステム全般 |
| OSシステムログ | Android システムログ | logcat | Android デバイス | OS管理 | OS管理 | adb経由 | 200MB | Androidシステム全般 |
| クラッシュログ | iOS クラッシュログ | .crash/.ips | iOS デバイス | OS管理 | OS管理 | iTunes/Finder経由 | 5MB | アプリクラッシュ時 |
| クラッシュログ | Android クラッシュログ | tombstone | Android デバイス | OS管理 | OS管理 | adb経由 | 5MB | ネイティブクラッシュ時 |

## 通信関連ログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| ネットワークログ | HTTP通信ログ | Network Traffic Log | プロキシ/デバッガ | なし | 開発・テスト時のみ | なし | 30MB | HTTP/HTTPS通信内容 |
| API統計ログ | API使用統計 | Analytics Log | アプリ内統計 | なし | なし（統計のみ） | なし | 1MB | API使用頻度・エラー率 |

## セキュリティ関連ログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| 認証ログ | ログイン試行ログ | auth_logs (AsyncStorage) | デバイス内AsyncStorage | なし（手動管理） | 最新100件のみ保持 | なし（ローカル） | 2MB | ログイン成功・失敗記録 |
| セキュリティログ | セキュリティ違反ログ | security_logs (AsyncStorage) | デバイス内AsyncStorage | なし（手動管理） | 最新50件のみ保持 | なし（ローカル） | 1MB | 不正アクセス試行など |

## パフォーマンス関連ログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| パフォーマンスログ | アプリ起動時間ログ | performance_logs | 開発環境 | なし | 開発時のみ | なし | 5MB | アプリ起動・画面遷移時間 |
| メモリ使用量ログ | メモリ使用量ログ | memory_usage_logs | 開発環境 | なし | 開発時のみ | なし | 10MB | メモリ使用状況監視 |

## テスト関連ログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| テスト実行ログ | Jest テストログ | test_output.log | プロジェクト内 | 手動削除 | 手動管理 | Git管理 | 50MB | 単体テスト・結合テスト結果 |
| カバレッジログ | テストカバレッジ | coverage/ | プロジェクト内 | 手動削除 | 手動管理 | Git管理 | 100MB | コードカバレッジ詳細 |

## 運用関連ログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| 同期ログ | データ同期ログ | sync_logs (AsyncStorage) | デバイス内AsyncStorage | なし（手動管理） | 最新200件のみ保持 | なし（ローカル） | 5MB | バイタルデータ同期状況 |
| バックアップログ | データバックアップログ | backup_logs (AsyncStorage) | デバイス内AsyncStorage | なし（手動管理） | 最新100件のみ保持 | なし（ローカル） | 2MB | バックアップ・リストア実行状況 |

## ビルド関連ログ

| ログ分類 | ログ名称 | ファイル名/形式 | 出力場所 | ログローテーション | ログ削除・保存期間 | バックアップ | 1日あたり推定容量 | 備考 |
|---------|---------|--------------|---------|-----------------|----------------|-----------|----------------|-----|
| ビルドログ | React Native ビルドログ | build.log | CI/CDサーバー | CI/CDツール管理 | 30日間保持 | CI/CDツール管理 | 500MB | アプリビルド実行ログ |
| ESLintログ | コード品質チェックログ | eslint.log | CI/CDサーバー | CI/CDツール管理 | 30日間保持 | CI/CDツール管理 | 10MB | 静的解析結果 |

## 合計容量見積もり

| 環境 | 1日あたり合計容量 | 月間合計容量 | 年間合計容量 | 備考 |
|------|----------------|-------------|-------------|------|
| 開発環境 | 約1.1GB | 約33GB | 約400GB | 開発・テスト含む |
| 本番環境（ユーザー端末） | 約20MB | 約600MB | 約7GB | ユーザー1台あたり |
| CI/CDサーバー | 約510MB | 約15GB | 約180GB | ビルド・テスト実行 |

## ログ管理の特記事項

### モバイルアプリ特有の制約
- デバイスストレージ容量の制限により、ローカルログは最小限に抑制
- AsyncStorageを使用したログは件数制限により自動削除
- 開発時ログは本番環境では無効化

### セキュリティ考慮事項
- 個人情報を含むログは暗号化または匿名化
- 認証情報はログに記録しない
- ログアクセスは開発者・運用担当者に限定

### 運用効率化
- 重要ログのみリモート収集（エラー・クラッシュ）
- デバッグログは開発環境のみ有効
- 自動ログローテーション機能を適切に設定
